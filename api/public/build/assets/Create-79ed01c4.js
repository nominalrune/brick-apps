import{j as e,r as u,W as p,d as j,a as h}from"./app-e8b3b534.js";import{A as b}from"./AuthenticatedLayout-a102c194.js";import{B as g}from"./Button-f504af54.js";import{P as y}from"./PrimaryButton-e90e99cb.js";import{A as w}from"./AppIcon-fe3d0041.js";import{I as N}from"./Input-6a53dedd.js";import"./ApplicationLogo-05e8b71d.js";import"./transition-ac1568dd.js";import"./app_icons-2904f611.js";function v({id:s,form:t,onSubmit:a}){return e.jsx("form",{id:s,className:"m-4 flex flex-col gap-6",onSubmit:a,children:t.map((o,n)=>e.jsx("div",{className:"flex gap-4",children:o.map(r=>e.jsx(u.Fragment,{children:e.jsx(N,{label:r.label||"(no name)",type:r.type,name:r.code,defaultValue:r.defaultValue,className:"text-slate-800",prefix:r.prefix,suffix:r.suffix})},r.code))},n))})}function $({auth:s,app:t}){const{data:a,setData:o,reset:n,transform:r,errors:A,post:m,processing:B}=p();async function l(i){if(i.preventDefault(),!confirm("新規レコードを作成しますか？"))return;const d=new FormData(i.currentTarget),x=Object.fromEntries(d.entries());r(C=>({...x})),m(`/web/${t.code}/create`)}function f(){window.history.back()}const c="record-create-form";return e.jsxs(b,{user:s.user,header:e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx(w,{src:t.icon}),e.jsx(j,{href:`/web/${t.code}`,className:"text-xl",children:t.name}),e.jsx("span",{children:"新規レコード作成"}),e.jsxs("div",{className:"flex-grow flex gap-4 justify-end",children:[e.jsx(y,{type:"submit",form:c,children:"作成"}),e.jsx(g,{type:"button",onClick:f,children:"キャンセル"})]})]}),children:[e.jsx(h,{title:"create new app"}),e.jsx(v,{id:c,form:t.form,onSubmit:l})]})}export{$ as default};
